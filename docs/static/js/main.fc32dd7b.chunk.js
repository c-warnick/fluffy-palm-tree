(this["webpackJsonpbarcode-beta"]=this["webpackJsonpbarcode-beta"]||[]).push([[0],{154:function(e,t,n){},155:function(e,t,n){},157:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var r=n(22),a=n.n(r),c=n(146),o=n.n(c),i=(n(154),n(33)),s=(n(155),n(119)),u=n(0),d=n.n(u),f=n(47),l=(n(157),n(117)),p=n(25),b=function(e){var t=e.style,n=void 0===t?{}:t,a=e.width,c=e.height,o=e.mirrored,u=r.useState(),b=Object(i.a)(u,2),v=b[0],j=b[1],h=r.useState(!1),x=Object(i.a)(h,2),O=x[0],m=x[1],g=r.useState(),S=Object(i.a)(g,2),w=S[0],y=S[1],k=r.useState(0),F=Object(i.a)(k,2),C=F[0],E=F[1],R=r.useState(),T=Object(i.a)(R,2),B=T[0],D=T[1],I=r.useState(null),M=Object(i.a)(I,2),P=M[0],A=M[1],J=r.useState(""),L=Object(i.a)(J,2),U=L[0],N=L[1],V=r.useRef(null),H=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.BrowserCodeReader.listVideoInputDevices();case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U&&N(""),!v){e.next=6;break}return e.next=4,v.decodeFromVideoDevice(B,null===(t=V.current)||void 0===t?void 0:t.id,(function(e){console.log("Scanning Results",e),e&&(N((null===e||void 0===e?void 0:e.getBarcodeFormat())+": "+(null===e||void 0===e?void 0:e.getText())),n.stop())}));case 4:(n=e.sent)&&(m(!0),A(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w&&(n=(t=C||0)===w.length+1?0:t+1,E(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.useEffect((function(){return v||j(new l.BrowserMultiFormatOneDReader),w||H(),B&&Q(),function(){P&&P.stop()}}),[B]),r.useEffect((function(){w&&D(w[0].deviceId)}),[w]),r.useEffect((function(){P&&O&&w&&(P.stop(),D(w[C].deviceId))}),[C]);var q=o?Object(s.a)(Object(s.a)({},n),{},{transform:"".concat(n.transform||""," scaleX(-1)")}):n;return Object(p.jsxs)("div",{id:"videoview",children:[!!(w&&(null===w||void 0===w?void 0:w.length)>1)&&Object(p.jsx)("button",{onClick:W,children:"Switch Camera"}),Object(p.jsx)("video",{id:"video",ref:V,style:q,width:a,height:c}),U&&Object(p.jsx)("button",{onClick:Q,children:"Start Scanning"}),Object(p.jsx)("input",{type:"text",value:U,readOnly:!0,id:"resultText"})]})};b.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92};var v=b,j=n(14),h=(n(159),n(115));h.a.engineResourcePath="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@8.8.3/dist/",h.a.BarcodeReader.productKeys="t0068NQAAAD1L44opxTeO3G45x0qlWOJPRt+62ln5s7/qCVxF1VFHxS8PjDI4Mk4D7JTQ8EJiyifv1gvU7eDRc4NjGDvuBH8=";var x=h.a,O=function(e){var t=e.appendMessage,n=r.useState(!1),a=Object(i.a)(n,2),c=(a[0],a[1]),o=r.useState(null),s=Object(i.a)(o,2),u=s[0],l=s[1],b=r.useRef(null),v=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u){e.next=6;break}return e.next=4,x.BarcodeScanner.createInstance();case 4:n=e.sent,l(n);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({msg:e.t0.message,type:"error"}),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.current.appendChild(u.getUIElement()),u.onFrameRead=function(e){var n,r=Object(j.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log(a.barcodeFormatString+": "+a.barcodeText),t({format:a.barcodeFormatString,text:a.barcodeText,type:"result"}),-1!==a.barcodeText.indexOf("Attention(exceptionCode")&&t({msg:a.exception.message,type:"error"})}}catch(c){r.e(c)}finally{r.f()}},e.next=4,u.open();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),!u){e.next=4;break}return e.next=4,u.destroy();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){return v(),function(){O()}}),[]),r.useEffect((function(){u&&h()}),[u]),Object(p.jsx)("div",{ref:b})},m=function(){var e=r.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.useState(""),o=Object(i.a)(c,2),s=o[0],u=o[1],l=r.useState(!1),b=Object(i.a)(l,2),v=b[0],j=b[1],h=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.BarcodeScanner.loadWasm();case 3:a(!0),j(!0),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),alert(e.t0.message),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){h()}),[]),Object(p.jsxs)("div",{className:"helloWorld",children:[Object(p.jsxs)("div",{id:"UIElement",children:[!n&&Object(p.jsx)("span",{children:"Loading Library..."}),v&&Object(p.jsx)(O,{appendMessage:function(e){switch(e.type){case"result":u(e.format+": "+e.text);break;case"error":u(e.msg)}}})]}),Object(p.jsx)("input",{type:"text",value:s,readOnly:!0,id:"resultText"})]})};var g=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(p.jsxs)("div",{className:"container mx-auto",children:[Object(p.jsxs)("div",{style:{minHeight:"200px"},children:[!n&&Object(p.jsx)(v,{width:300,height:200}),n&&Object(p.jsx)(m,{})]}),Object(p.jsx)("div",{style:{position:"relative",textAlign:"center"},children:Object(p.jsx)("button",{onClick:function(){a(!n)},children:"Switch reader"})})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),S()}},[[160,1,2]]]);
//# sourceMappingURL=main.fc32dd7b.chunk.js.map