(this["webpackJsonpbarcode-beta"]=this["webpackJsonpbarcode-beta"]||[]).push([[0],{148:function(e){e.exports=JSON.parse('{"inputStream":{"type":"LiveStream","constraints":{"width":{"min":450},"height":{"min":300},"facingMode":"environment","aspectRatio":{"min":1,"max":2}}},"locator":{"patchSize":"medium","halfSample":true},"numOfWorkers":2,"frequency":10,"decoder":{"readers":["ean_reader","code_128_reader","upc_reader"]},"locate":true}')},156:function(e,t,n){},157:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n.n(r),c=n(147),o=n.n(c),i=(n(156),n(31)),s=(n(157),n(15)),u=n(0),d=n.n(u),l=n(48),f=(n(159),n(116));f.a.engineResourcePath="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@8.8.3/dist/",f.a.BarcodeReader.productKeys="t0068NQAAAD1L44opxTeO3G45x0qlWOJPRt+62ln5s7/qCVxF1VFHxS8PjDI4Mk4D7JTQ8EJiyifv1gvU7eDRc4NjGDvuBH8=";var b=f.a,p=n(14),j=function(e){var t=e.appendMessage,n=r.useState(!1),a=Object(i.a)(n,2),c=(a[0],a[1]),o=r.useState(null),u=Object(i.a)(o,2),f=u[0],j=u[1],v=r.useRef(null),h=function(){var e=Object(l.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f){e.next=6;break}return e.next=4,b.BarcodeScanner.createInstance();case 4:n=e.sent,j(n);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({msg:e.t0.message,type:"error"}),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.current.appendChild(f.getUIElement()),f.onFrameRead=function(e){var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log(a.barcodeFormatString+": "+a.barcodeText),t({format:a.barcodeFormatString,text:a.barcodeText,type:"result"}),-1!==a.barcodeText.indexOf("Attention(exceptionCode")&&t({msg:a.exception.message,type:"error"})}}catch(c){r.e(c)}finally{r.f()}},e.next=4,f.open();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),!f){e.next=4;break}return e.next=4,f.destroy();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){return h(),function(){m()}}),[]),r.useEffect((function(){f&&x()}),[f]),Object(p.jsx)("div",{ref:v})},v=function(){var e=r.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.useState(""),o=Object(i.a)(c,2),s=o[0],u=o[1],f=r.useState(!1),v=Object(i.a)(f,2),h=v[0],x=v[1],m=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.BarcodeScanner.loadWasm();case 3:a(!0),x(!0),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),alert(e.t0.message),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){m()}),[]),Object(p.jsxs)("div",{className:"helloWorld",children:[Object(p.jsx)("div",{className:"control",children:s}),Object(p.jsxs)("div",{id:"UIElement",children:[!n&&Object(p.jsx)("span",{children:"Loading Library..."}),h&&Object(p.jsx)(j,{appendMessage:function(e){switch(e.type){case"result":u(e.format+": "+e.text);break;case"error":u(e.msg)}}})]})]})},h=n(120),x=(n(161),n(118)),m=function(e){var t=e.style,n=void 0===t?{}:t,a=e.width,c=e.height,o=e.mirrored,s=r.useState(),u=Object(i.a)(s,2),f=u[0],b=u[1],j=r.useState(!1),v=Object(i.a)(j,2),m=v[0],O=v[1],g=r.useState(),S=Object(i.a)(g,2),y=S[0],w=S[1],k=r.useState(0),R=Object(i.a)(k,2),D=R[0],F=R[1],E=r.useState(),C=Object(i.a)(E,2),I=C[0],N=C[1],P=r.useState(null),B=Object(i.a)(P,2),T=B[0],M=B[1],W=r.useState(""),A=Object(i.a)(W,2),J=A[0],L=A[1],U=r.useRef(null),q=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.BrowserCodeReader.listVideoInputDevices();case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J&&L(""),!f){e.next=6;break}return e.next=4,f.decodeFromVideoDevice(I,null===(t=U.current)||void 0===t?void 0:t.id,(function(e){console.log("Scanning Results",e),e&&(L((null===e||void 0===e?void 0:e.getBarcodeFormat())+": "+(null===e||void 0===e?void 0:e.getText())),n.stop())}));case 4:(n=e.sent)&&(O(!0),M(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y&&(n=(t=D||0)===y.length+1?0:t+1,F(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.useEffect((function(){return f||b(new x.BrowserMultiFormatOneDReader),y||q(),I&&V(),function(){T&&T.stop()}}),[I]),r.useEffect((function(){y&&N(y[0].deviceId)}),[y]),r.useEffect((function(){T&&m&&y&&(T.stop(),N(y[D].deviceId))}),[D]);var z=o?Object(h.a)(Object(h.a)({},n),{},{transform:"".concat(n.transform||""," scaleX(-1)")}):n;return Object(p.jsxs)("div",{id:"videoview",children:[!!(y&&(null===y||void 0===y?void 0:y.length)>1)&&Object(p.jsx)("button",{onClick:_,children:"Switch Camera"}),Object(p.jsx)("video",{id:"video",ref:U,style:z,width:a,height:c}),J&&Object(p.jsx)("button",{onClick:V,children:"Start Scanning"}),Object(p.jsx)("input",{type:"text",value:J,readOnly:!0,id:"resultText"})]})};m.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92};var O=m,g=n(148),S=(n(162),n(40)),y=n.n(S),w=function(e){var t=e.onDetected;r.useEffect((function(){y.a.init(g,(function(e){return e&&console.log(e,"error msg"),y.a.start(),function(){y.a.stop()}})),y.a.onProcessed((function(e){var t=y.a.canvas.ctx.overlay,n=y.a.canvas.dom.overlay;e&&(e.boxes&&(t.clearRect(0,0,Number(n.getAttribute("width")),Number(n.getAttribute("height"))),e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){y.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&y.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&y.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))})),y.a.onDetected(n)}),[]);var n=function(e){t(e.codeResult.code)};return Object(p.jsx)("div",{id:"interactive",className:"viewport"})},k=function(){var e=r.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.useState(null),o=Object(i.a)(c,2),s=o[0],u=o[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"control",children:[Object(p.jsx)("p",{children:s||"Scanning..."}),Object(p.jsx)("button",{onClick:function(){a(!n),u(null)},children:n?"Stop":"Start"})]}),Object(p.jsx)("div",{className:"barcodescanner",children:n&&Object(p.jsx)(w,{onDetected:function(e){u(e)}})})]})},R=["zxing","dynamsoft","quagga"];var D=function(){var e=Object(r.useState)(R[0]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(p.jsxs)("div",{className:"container mx-auto",children:[Object(p.jsxs)("div",{style:{minHeight:"200px"},children:[n===R[0]&&Object(p.jsx)(O,{width:300,height:200}),n===R[1]&&Object(p.jsx)(v,{}),n===R[2]&&Object(p.jsx)(k,{})]}),Object(p.jsx)("div",{className:"control bottom",children:R.map((function(e,t){return Object(p.jsxs)("button",{style:{marginRight:"15px"},onClick:function(){return function(e){a(R[e])}(t)},children:["Switch to ",e]},e+t)}))})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,164)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root")),F()}},[[163,1,2]]]);
//# sourceMappingURL=main.597adc16.chunk.js.map